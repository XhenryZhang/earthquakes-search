
<h1>Earthquake Search Results</h1>

<table>
    <tr>
        <th>Distance (km)</th>
        <td th:text="${eqSearch.distance}"></td>
    </tr>
    
    <tr>
        <th>Minimum Magnitude</th>
        <td th:text="${eqSearch.minmag}"></td>
    </tr>
</table>

<h2>JSON Results</h2>

<pre th:text="${json}">This is placeholder</pre>

<h2> Results </h2>

<table>
    <thead>
        <tr>
            <th>Type</th>
            <th>Url</th>
            <th>Count</th>
            <th>Title</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <!-- referencing feature collection, which was added to model (model.addattribute) by EarthquakesController.java-->
            <!-- everything here is done in @Getmapping earthquakes/results method in EarthquakesController-->
            <td th:text="${featureCollection.type}"></td>
            <td th:text="${featureCollection.metadata.url}"></td>
            <td th:text="${featureCollection.metadata.count}"></td>
            <td th:text="${featureCollection.metadata.title}"></td>
        </tr>
    </tbody>
</table>

<h3>Earthquakes</h3>
<table>
    <thead>
        <tr>
            <th>id</th>
            <th>place</th>
            <th>mag</th>
        </tr>
    </thead>
    <tbody>
    
        <!-- for each loop sets up f as a variable that loops over the features list each feature is an earthquake-->
        <tr th:each="f: ${featureCollection.features}"> 
            <td><a th:href="${f.properties.url}" th:text="${f.id}"></a></td>
            <td th:text="${f.properties.place}"></td>
            <td th:text="${f.properties.mag}"></td>
        </tr>
    </tbody>
</table>


<div th:replace="bootstrap/bootstrap_footer.html"></div>